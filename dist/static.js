!function(t){var e=function(){},n=t.localStorage||{getItem:e,setItem:e,removeItem:e},r=function(t){return t.toString().toLowerCase().endsWith(".js")},o=function(t){return t.toString().toLowerCase().endsWith(".css")},i=function(t){var e=t.toLowerCase();return e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".webp")},s=function(){this.bundles=[],this.scripts={},this.stylesheets={},this.images={}};s.prototype.ready=function(t){var e=this;return new Promise(function(n){var r=function(){return e.bundles[t]?(cancelAnimationFrame(r),void e.bundles[t].then(n)):void requestAnimationFrame(r)};r()})},s.prototype.load=function(t,e,n){var i=this;return n?this.sync(t,e):e&&this.bundles[e]?this.bundles[e]:("string"==typeof t&&(t=[t]),this[e]=this.bundles[e]=Promise.all(t.map(function(t){return r(t)?i.script(t):o(t)?i.css(t):i.image(t)})))},s.prototype.sync=function(t,e){var n=this;if(e&&this.bundles[e])return this.bundles[e];var r=new Promise(function(e,r){"string"==typeof t&&(t=[t]),Array.isArray(t)&&t.length||r("No resources supplied");var o=n.load(t.shift());t.forEach(function(t){o.then(function(){return n.load(t)},r)}),o.then(e)});return e&&(this.bundles[e]=r),r},s.prototype.loadCSS=function(e,n){return this.stylesheets[e]=this.stylesheets[e]||new Promise(function(r,o){var i=t.document.createElement("link"),s=t.document.getElementsByTagName("script")[0],a=t.document.styleSheets;i.rel="stylesheet",i.href=e,i.media="only x",i.onerror=function(t){o(t)},i.onload=function(){r()},s.parentNode.insertBefore(i,s),i.onloadcssdefined=function(t){for(var e,n=0;n<a.length;n++)a[n].href&&a[n].href===i.href&&(e=!0);e?t():setTimeout(function(){i.onloadcssdefined(t)})},i.onloadcssdefined(function(){i.media=n||"all"})}),this.stylesheets[e]},s.prototype.css=function(t){var e=this;return Array.isArray(t)?Promise.all(t.map(function(t){return e.loadCSS(t)})):e.loadCSS(t)},s.prototype.loadScript=function(t){return this.scripts[t]=this.scripts[t]||new Promise(function(e,n){var r=document.getElementsByTagName("script")[0],o=document.createElement("script");o.type="text/javascript",o.src=t,o.async=!0,o.onload=e,o.onerror=o.onabort=n,r.parentNode.insertBefore(o,r)}),this.scripts[t]},s.prototype.script=function(t){var e=this;return Array.isArray(t)?Promise.all(t.map(function(t){return e.loadScript(t)})):this.loadScript(t)},s.prototype.loadImage=function(t){return this.images[t]=this.images[t]||new Promise(function(e,n){var r=new Image;r.src=t,r.onerror=n,r.onload=function(){e(r)}}),this.images[t]},s.prototype.image=function(t){var e=this;return Array.isArray(t)?Promise.all(t.map(function(t){return e.loadImage(t)})):this.loadImage(t)},s.prototype.get=function(t){return new Promise(function(e,r){var o=n.getItem(t);if(o)return void e(o);var i=new XMLHttpRequest;i.onerror=r,i.open("GET",t,!0),i.onload=function(){n.setItem(t,i.responseText),e(i.responseText)},i.send()})},s.prototype.getScript=function(t,e){this.get(t).then(function(t){var n=document.createElement("script");n.type="text/javascript",n.text=t,(e||document.head).appendChild(n)})},s.prototype.getStylesheet=function(t,e){this.get(t).then(function(t){var n=document.createElement("style");n.type="text/css",n.text=t,(e||document.head).appendChild(n)})},s.prototype.getImage=function(t,e){return new Promise(function(r,o){var i=n.getItem(t);if(i)return void r(i);var s=e||"image/png",a=new Image;a.onerror=o,a.onload=function(){var e,o=document.createElement("canvas"),i=o.getContext("2d");o.height=this.height,o.width=this.width,i.drawImage(this,0,0),e=o.toDataURL(s),r(e),n.setItem(t,e)},a.src=t})},s.prototype.cache=function(t,e){var n=this;"string"==typeof t&&(t=[t]);var s=Promise.all(t.map(function(e){return r(e)?n.getScript(t):o(e)?n.getStylesheet(t):i(t)?n.getImage(t):void 0}));return"string"==typeof e&&(this[e]=this.bundles[e]=s),s},s.prototype.clear=function(t){"string"==typeof t&&(t=[t]),t.forEach(function(t){n.removeItem(t)})},t.$static=new s}(window);